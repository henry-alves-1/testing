name: Conditional job execution

on:
  push:
  workflow_dispatch:

jobs:
  job_a:
    name: Job A (manual)
    if: github.event_name == 'workflow_dispatch'
    runs-on: ubuntu-latest
    steps:
      - run: echo "Job A ran"

  job_b:
    name: Job B (push)
    if: github.event_name == 'push'
    runs-on: ubuntu-latest
    steps:
      - run: echo "Job B ran"

  job_c:
    name: Job C (runs if A OR B ran)
    runs-on: ubuntu-latest
    needs: [job_a, job_b]
    if: |
      needs.job_a.result == 'success' ||
      needs.job_b.result == 'success'
    steps:
      - run: echo "Job C ran because A or B ran"
